"use strict";function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}function _createClass(n,t,i){return t&&_defineProperties(n.prototype,t),i&&_defineProperties(n,i),n}var Details=function(){function n(){_classCallCheck(this,n),this.cont=document.querySelector(".msg"),this.look=document.querySelector(".look"),this.url="http://localhost/lianxiang_project/dist/libs/data/goods.json",this.load(),this.getId()}return _createClass(n,[{key:"getId",value:function(){this.id=location.search.slice(1).split("=")[1]}},{key:"load",value:function(){var t=this;$.getJSON(this.url,function(n){t.display(n)})}},{key:"display",value:function(n){var t=this;console.log(n),n.forEach(function(n){n.goodsId===t.id&&(t.cont.innerHTML="\n                <h2>".concat(n.name,"</h2>\n                <h4>").concat(n.type,'</h4>\n                <h3>\n                <span>商城价</span>&nbsp;&nbsp;   <span class ="price">').concat(n.price,'</span> \n            </h3>\n             <div class="msg-two">\n                 <ul class="list-one">\n                     <li>操作系统</li>\n                     <li>配置</li>\n                     <li>选择配置</li>\n                 </ul>\n                 <ul class="list-two">\n                     <li> Windows 10 家庭中文版</li>\n                     <li> 2020新品</li>\n                     <li> \n                         <p> 【i7/8GB/1TB HDD 256G SSD/1660...</p>\n                         <p>【i5/8GB/1TB HDD 256G SSD/1660...\n                          <p>【i5/16GB/512G SSD/2060】幻影黑</p>\n                          <p>【i5/16GB/512G SSD/2060】幻影黑</p>\n                          <p>【i5/16GB/512G SSD/2060】幻影黑</p>\n                          <p>【i5/16GB/512G SSD/2060】幻影黑</p>\n                          <p>【i5/16GB/512G SSD/2060】幻影黑</p>\n                          <p>【i5/16GB/512G SSD/2060】幻影黑</p>\n                          <p>【i5/16GB/512G SSD/2060】幻影黑</p>\n                        </li>\n                 </ul>\n             </div>\n             <div class="msg-three">\n                <ul class="list-three">\n                    <li>分期付款</li>\n                    <li>购买数量</li>\n                </ul>\n                <ul class="list-four">\n                    <li> <p>花呗分期</p>\n                       <p>白条分期</p>\n                   </li>\n                    <li>\n                       <a href="javascript:;" class="minus">-</a>\n                       <span>1</span>\n                       <a href="javascript:;" class="plus">+</a>\n                    </li>\n                </ul>\n            </div>\n            <div class="msg-foot">\n             <button class="msg-foot-one">立即购买</button>\n             <button class="msg-foot-two">加入购物车</button>\n            </div>\n               '))});var i=$(".msg-foot-one"),s=$(".msg-foot-two");i.click(function(){location.href="http://localhost/lianxiang_project/dist/pages/carts.html"}),s.on("click",function(n){var t=location.search.slice(1).split("=")[1],i=$(".msg h2").html(),s=$("#cont .box a").css("background-image"),l=s.slice(5,s.length-2),e=$(".msg h3 .price").html(),o=window.localStorage,a=convertStrToObj(o.getItem("carts")?o.getItem("carts"):"");t in a?a[t].num++:a[t]={name:i,price:e,src:l,num:1},o.setItem("carts",JSON.stringify(a))})}}]),n}();function convertStrToObj(n){return n?JSON.parse(n):{}}window.onload=function(){new Details};